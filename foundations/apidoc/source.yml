configuration:
  title: COMP 7570 / 4060 - Blockchain Analytics
  description: API documentation to use the endpoints to query blockchain data.
  uri: http://uofmblockchainanalytics.com/bitcoin
categories:
  Blockchain:
    description: Query transactions
  Users:
    description: Query transactions from Bitcoin blockchain
versions:
  v1.0:
    status: beta
    major: 1
    minor: 1
    methods:
      BlockList:
        label: Blocks
        method: GET
        description: Query for an existing block(s) based on timestamp
        uri: /blocks
        category: Bitcoin
        request_parameters:
          year:
            type: integer
            description: Year of Block creation
          month:
            type: integer
            description: Month of Block creation
          day:
            type: integer
            description: Day of Block creation
          date_offset:
            type: integer
            description: Timeframe of the required data
        request_body:
          type: object
          properties:
            year:
              type: integer
              description: Year of Block creation
            month:
              type: integer
              description: Month of Block creation
            day:
              type: integer
              description: Day of Block creation
            date_offset:
              type: integer
              description: Timeframe of the required data
        response_body:
          type: object
          properties:
            ResponseCode:
              type: string
              description: Response Code of Api Method Service
            ResponseDesc:
              type: string
              description: Response Desc of Api Method Service
            from_date:
              type: string
              description: From Date Range Min Value
            to_date:
              type: string
              description: From Date Range Max Value
            num_blocks:
              type: integer
              description: Number of blocks found withing the timeframe.
            Block:
              type: Block
              description: Block data of blocks returned in result.
        response_codes:
          - code: 404
            message: Block not found
            description: Block does not exists

    types:
      Block:
        description: A Block
        item:
          type: object
          properties:
            block_id:
              type: integer
              description: Block identifier
            hash:
              type: string
              description: Hash of the Block
            hash_prev:
              type: string
              description: Hash of the Previous Block
            n_time:
              type: string
              description: Timestamp
            nnonce:
              type: integer
              description: Nonce value computed for Block
            version:
              type: integer
              description: Version of the Blockchain
            hash_merkle_root:
              type: string
              description: Hash of the Merkle tree of Block
            nbits:
              type: integer
              description: Size of the Block in bits
            transactions:
              type: array
              description: List of Transactions
              items:
                type: Transaction

      Transaction:
        description: A Transaction
        item:
          type: object
          properties:
            transaction_id:
              type: integer
              description: Transaction identifier
            hash:
              type: string
              description: Hash of the Transaction
            version:
              type: integer
              description: Version of the Blockchain
            locktime:
              type: integer
              description: Lock Time of Transaction
            num_of_inputs:
              type: integer
              description: Number of Inputs of Transaction
            inputs:
              type: array
              description: List of Inputs of Transaction
              items:
                type: TransactionInput
            num_of_outputs:
              type: integer
              description: Number of Outputs of Transaction
            outputs:
              type: array
              description: List of Outputs of Transaction
              items:
                type: TransactionOutput

      Address:
        description: An Address
        item:
          type: object
          properties:
            address_id:
              type: integer
              description: Address identifier
            hash:
              type: string
              description: Hash of the Address
            public_key:
              type: string
              description: Public key of Address
            address:
              type: string
              description: Address string

      TransactionInput:
        description: A Transaction Input
        item:
          type: object
            properties:
              input_id:
                type: integer
                description: Identifier of an input of a transaction
              prevout_hash:
                type: string
                  type: Hash of the previous transaction whose output is responsible for this input
              prevout_n:
                type: integer
                  type: Identifier of of output of previous transaction that responsible for this input
              scriptsig:
                type: string
                  type: Pay to script Hash Signature
              sequence:
                type: integer
                  type: Sequence Number of this Input of Transaction
              prev_output_id:
                type: integer
                  type: Identifier of output of previous transaction that responsible for this input


        TransactionOutput:
          description: A Transaction Output
          item:
            type: object
              properties:
                output_id:
                  type: integer
                  description: Identifier of an Output of a Transaction
                value:
                  type: string
                    type: Amount Transferred in Satoshis during Transaction
                scriptpubkey:
                  type: integer
                    type: Public Key Script associated with Transaction Output
                index:
                  type: string
                    type: Index of Transaction output among the other Transaction Output list
                script_type:
                  type: string
                    type: Script Type of Transaction Output
                num_of_output_addresses:
                  type: integer
                  description: Number of Output addresses associated with Transaction Outputs
                output-addresses:
                  type: array
                  properties:
                  items:
                    type: TransactionOutputAddress
                    description: Transaction Output Addresses Data

        TransactionOutputAddress:
          description: A Transaction Output Address
          item:
            type: object
              properties:
                transaction_id:
                  type: integer
                  description: Transaction Identifier
                transaction_output_id:
                  type: integer
                  description: Transaction Output Identifier
                num_of_output_addresses:
                  type: integer
                  description: Number of Output Addresses assoiated with an Transaction Output
                output-addresses:
                  type: array
                  properties:
                  items:
                    type: Address
                    description: Addresses Info associated with Transaction Outputs





